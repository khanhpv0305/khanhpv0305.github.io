(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,n,t){e.exports=t(490)},490:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(67),c=t.n(i),o=t(15),u=t(497),l=t(499),d=t(498),s=t(3),m=t(192),p=t(193),f=t(492),b=t(493),g=t(494),v=t(49),E=t.n(v),h=t(106),O=t(194),j=t(195),x=t.n(j),y=t(196),w=t.n(y),S=function(e){return x.a.get("".concat("https://images-api.nasa.gov","/search?").concat(w.a.stringify(e)))},I=function(e){return new Promise(function(n){setTimeout(function(){n()},e)})},k={search:function(e){return function(){var n=Object(h.a)(E.a.mark(function n(t){var r,a,i,c;return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.keyword,t({type:"image/SEARCH_REQUEST"}),t({type:"spinner/SHOW"}),n.prev=3,n.next=6,S({q:r});case 6:a=n.sent,i=a.data.collection.items,c=i.map(function(e){var n=Object(O.format)(new Date(e.data[0].date_created),"MM/DD/YYYY");return{id:e.data[0].nasa_id,thumbnailUrl:e.links[0].href,photographer:e.data[0].photographer,dateCreated:n,title:e.data[0].title,descr:e.data[0].description,isFavorite:!1}}),t({type:"image/SEARCH_SUCCESS",payload:c}),t({type:"spinner/HIDE"}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(3),t({type:"image/SEARCH_FAILURE"}),t({type:"spinner/HIDE"});case 17:case"end":return n.stop()}},n,null,[[3,13]])}));return function(e){return n.apply(this,arguments)}}()}},A=Object(o.b)(function(e){return{isLoading:e.image.isLoading,hasData:e.image.hasData}},k)(function(e){var n=e.children,t=e.hasData,i=e.search,c=e.isLoading;return Object(r.useEffect)(function(){t||i({keyword:'""'})},[]),c?null:a.a.createElement(f.a,{fluid:!0},a.a.createElement(b.a,null,a.a.createElement(g.a,{xs:12},n)))}),D=t(4),C=t(38);function R(){var e=Object(D.a)(["\n      > svg {\n        color: #b0acac;\n      }\n    "]);return R=function(){return e},e}function _(){var e=Object(D.a)(["\n      color: red;\n    "]);return _=function(){return e},e}function T(){var e=Object(D.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  width: 50px;\n  border: 1px solid #cecccc;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.25s;\n  background: white;\n\n  &:not(:last-child) {\n    margin-right: 12px;\n  }\n\n  > svg {\n    color: #cecccc;\n    font-size: 1.25em;\n\n    ","\n  }\n\n  &:hover {\n    border-color: #b0acac;\n    \n    ","\n  }\n"]);return T=function(){return e},e}function F(){var e=Object(D.a)(["\n  display: flex;\n  justify-content: center;\n"]);return F=function(){return e},e}function M(){var e=Object(D.a)(["\n  display: -webkit-box;\n  line-height: 1.5rem;\n  height: 4.5rem;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 1.5rem;\n"]);return M=function(){return e},e}function H(){var e=Object(D.a)(["\n  font-weight: 500;\n  font-size: 1.25rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 1rem;\n"]);return H=function(){return e},e}function L(){var e=Object(D.a)([""]);return L=function(){return e},e}function V(){var e=Object(D.a)([""]);return V=function(){return e},e}function U(){var e=Object(D.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]);return U=function(){return e},e}function B(){var e=Object(D.a)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 100%;\n"]);return B=function(){return e},e}function P(){var e=Object(D.a)(["\n  position: relative;\n  padding-top: 60%;\n  overflow: hidden;\n  margin: 0 -15px 1rem;\n"]);return P=function(){return e},e}function $(){var e=Object(D.a)(["\n  margin-bottom: 30px;\n  background: rgba(0, 0, 0, 0.05);\n  padding: 0 15px 15px;\n"]);return $=function(){return e},e}var q=s.d.div($());q.ThumbnailWrapper=s.d.div(P()),q.Thumbnail=s.d.img(B()),q.PhotographerAndDateCreated=s.d.div(U()),q.Photographer=s.d.span(V()),q.DateCreated=s.d.span(L()),q.Title=s.d.div(H()),q.Descr=s.d.div(M()),q.ActionBtnsWrapper=s.d.div(F()),q.ActionBtn=s.d.div(T(),Object(C.a)("isFavorite")(_()),Object(C.b)("isFavorite")(R()));var z=q,W=t(495),Y=t(51),G={markAsFavorite:function(e){return{type:"image/MARK_AS_FAVORITE",payload:{imageId:e}}},removeFavorite:function(e){return{type:"image/REMOVE_FAVORITE",payload:{imageId:e}}},remove:function(e){return{type:"image/REMOVE",payload:{imageId:e}}}},N=Object(o.b)(null,G)(function(e){var n=e.id,t=e.isFavorite,i=e.markAsFavorite,c=e.removeFavorite,o=e.remove,u="/edit/".concat(n),l=Object(r.useCallback)(function(){return i(n)},[]),d=Object(r.useCallback)(function(){return c(n)},[]),s=Object(r.useCallback)(function(){return o(n)},[]);return a.a.createElement(z.ActionBtnsWrapper,null,t?a.a.createElement(z.ActionBtn,Object.assign({onClick:d},{isFavorite:t}),a.a.createElement(Y.a,null)):a.a.createElement(z.ActionBtn,{onClick:l},a.a.createElement(Y.c,null)),a.a.createElement(z.ActionBtn,{onClick:s},a.a.createElement(Y.d,null)),a.a.createElement(z.ActionBtn,{as:W.a,to:u,state:{modal:!0}},a.a.createElement(Y.b,null)))}),J=function(e){var n=e.id,t=e.thumbnailUrl,r=e.photographer,i=e.dateCreated,c=e.title,o=e.descr,u=e.isFavorite;return a.a.createElement(z,null,a.a.createElement(z.ThumbnailWrapper,null,a.a.createElement(z.Thumbnail,{src:t})),a.a.createElement(z.PhotographerAndDateCreated,null,a.a.createElement(z.Photographer,null,r),a.a.createElement(z.DateCreated,null,i)),a.a.createElement(z.Title,null,c),a.a.createElement(z.Descr,null,o),a.a.createElement(N,{id:n,isFavorite:u}))};function K(){var e=Object(D.a)(["\n  padding-top: 50px;\n  padding-bottom: 50px;\n"]);return K=function(){return e},e}var Q=s.d.div(K());function X(){var e=Object(D.a)(["\n  margin-bottom: -30px;\n"]);return X=function(){return e},e}var Z=s.d.div(X()),ee=t(496),ne=function(e){return e.image.items},te=Object(o.b)(function(e){return{images:ne(e)}})(function(e){var n=e.images;return a.a.createElement(Q,null,a.a.createElement(b.a,null,a.a.createElement(g.a,{xs:12},a.a.createElement(Z,null,a.a.createElement(b.a,null,n.map(function(e){return a.a.createElement(g.a,{key:e.id,md:4},a.a.createElement(J,e))}))))))}),re=t(201);function ae(){var e=Object(D.a)(["\n  padding-top: 50px;\n  padding-bottom: 50px;\n"]);return ae=function(){return e},e}var ie=s.d.div(ae()),ce=t(208),oe=t(22);function ue(){var e=Object(D.a)(["\n  height: 55px;\n  padding-left: 24px;\n  padding-right: 24px;\n  color: white;\n  border: none;\n  background: #784CC0;\n\n  &:disabled {\n    background: #a38fc4;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(D.a)(["\n    border-color: red;\n  "]);return le=function(){return e},e}function de(){var e=Object(D.a)(["\n  display: block;\n  width: 100%;\n  border: 1px solid #cecccc;\n  padding: 12px;\n  min-height: calc(15em + 26px);\n\n  &:focus {\n    border-color: #b0acac;\n    outline: none;\n  }\n\n  ","\n"]);return de=function(){return e},e}function se(){var e=Object(D.a)(["\n    border-color: red;\n  "]);return se=function(){return e},e}function me(){var e=Object(D.a)(["\n  display: block;\n  width: 100%;\n  border: 1px solid #cecccc;\n  padding-left: 12px;\n  padding-right: 12px;\n  height: 55px;\n\n  &:focus {\n    border-color: #b0acac;\n    outline: none;\n  }\n\n  ","\n"]);return me=function(){return e},e}function pe(){var e=Object(D.a)(["\n  color: red;\n  font-size: 0.875rem;\n  margin-top: 0.5em;\n"]);return pe=function(){return e},e}function fe(){var e=Object(D.a)(["\n  font-size: 1.15rem;\n  margin-bottom: 1em;\n  background: #d4edda;\n  border-left: 4px solid #155724;\n  color: #155724;\n  padding: 15px;\n"]);return fe=function(){return e},e}function be(){var e=Object(D.a)(["\n  color: red;\n  margin-left: 5px;\n"]);return be=function(){return e},e}function ge(){var e=Object(D.a)(["\n  font-size: 0.875rem;\n"]);return ge=function(){return e},e}function ve(){var e=Object(D.a)(["\n  margin-bottom: 0.75rem;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(D.a)(["\n  font-size: 1.25rem;\n  font-weight: 500;\n"]);return Ee=function(){return e},e}function he(){var e=Object(D.a)([""]);return he=function(){return e},e}var Oe=s.d.form(he());Oe.Heading=s.d.div(Ee()),Oe.Group=s.d.div(ve()),Oe.Label=s.d.label(ge()),Oe.RequiredMark=s.d.span(be()),Oe.SuccessMessage=s.d.div(fe()),Oe.InvalidMsg=s.d.div(pe()),Oe.TextInput=s.d.input.attrs({type:"text"})(me(),Object(C.a)("invalid")(se())),Oe.Textarea=s.d.textarea(de(),Object(C.a)("invalid")(le())),Oe.SubmitBtn=s.d.button.attrs({type:"submit"})(ue());var je=Oe,xe=t(50),ye=xe.object().shape({title:xe.string().required("Required"),descr:xe.string().required("Required"),photographer:xe.string()}),we=Object(r.memo)(function(e){var n=e.data,t=e.onSubmit;return a.a.createElement(oe.d,{validationSchema:ye,initialValues:n,isInitialValid:ye.isValidSync(n),onSubmit:function(e,r){t(n.id,e).then(function(){r.setStatus({message:"Update successfully"}),r.setSubmitting(!1)}).then(function(){return I(2e3)}).then(function(){return r.setStatus({message:void 0})})}},function(e){var n=e.errors,t=e.isValid,r=e.isSubmitting,i=e.status;Object(ce.a)(e,["errors","isValid","isSubmitting","status"]);return a.a.createElement(je,{as:oe.c},i&&i.message&&a.a.createElement(je.SuccessMessage,null,i.message),a.a.createElement(oe.b,{name:"title",render:function(e){var t=e.field;return a.a.createElement(je.Group,null,a.a.createElement(je.Label,{htmlFor:"title-id"},"Title",a.a.createElement(je.RequiredMark,null,"*")),a.a.createElement(je.TextInput,Object.assign({id:"title-id",invalid:!!n.title},t)),a.a.createElement(oe.a,{name:"title",component:je.InvalidMsg}))}}),a.a.createElement(oe.b,{name:"descr",placeholder:"Description *",invalid:!!n.descr,render:function(e){var t=e.field;return a.a.createElement(je.Group,null,a.a.createElement(je.Label,{htmlFor:"descr-id"},"Description",a.a.createElement(je.RequiredMark,null,"*")),a.a.createElement(je.Textarea,Object.assign({id:"descr-id",invalid:!!n.descr},t)),a.a.createElement(oe.a,{name:"descr",component:je.InvalidMsg}))}}),a.a.createElement(oe.b,{name:"photographer",placeholder:"Photographer",invalid:!!n.photographer,render:function(e){var n=e.field;return a.a.createElement(je.Group,null,a.a.createElement(je.Label,{htmlFor:"photographer-id"},"Description"),a.a.createElement(je.TextInput,Object.assign({id:"photographer-id"},n)))}}),a.a.createElement(je.SubmitBtn,{disabled:!t||r},"SAVE"))})}),Se=Object(r.memo)(function(e){e.imageId;var n=e.image,t=e.updateImage;return a.a.createElement(b.a,null,a.a.createElement(g.a,{xs:{size:8,offset:2}},a.a.createElement(ie,null,a.a.createElement(we,{data:n,onSubmit:t}))))}),Ie={updateImage:function(e,n){return function(){var t=Object(h.a)(E.a.mark(function t(r){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"spinner/SHOW"}),r({type:"image/UPDATE",payload:{imageId:e,data:n}}),t.next=4,I(200);case 4:return r({type:"spinner/HIDE"}),t.abrupt("return");case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ke=Object(o.b)(function(e,n){var t=n.match.params.imageId,r=e.image.items.find(function(e){return e.id===t});return{imageId:t,image:r}},Ie,function(e,n){return Object(re.a)({},e,n)})(Se);function Ae(){var e=Object(D.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 9999;\n  background: ",";\n"]);return Ae=function(){return e},e}var De=s.d.div(Ae(),function(e){return e._bgColor});De.defaultProps={_bgColor:"rgba(0, 0, 0, 0.3)"};var Ce=De,Re=function(e){var n=e._bgColor;return a.a.createElement(Ce,{_bgColor:n},a.a.createElement(ee.a,{color:"dark"}))},_e=Object(r.memo)(function(e){return e.isSpinnerDisplayed&&a.a.createElement(Re,null)}),Te=Object(o.b)(function(e){return{isSpinnerDisplayed:e.spinner.isDisplayed}})(_e);t(485),t(486);function Fe(){var e=Object(D.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700');\n\n  body {\n    font-family: 'Montserrat', sans-serif !important;\n    /* color: #000; */\n  }\n"]);return Fe=function(){return e},e}var Me=Object(s.b)(Fe()),He=t(16),Le=t(205),Ve=t(71),Ue=t(206),Be=t.n(Ue),Pe=t(39),$e=t(11),qe=t.n($e),ze={key:"nasa-images",storage:Be.a,whitelist:["image"]},We=Object(He.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],isLoading:!1,isError:!1,hasData:!1},n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"image/SEARCH_REQUEST":return qe()(e,{isLoading:{$set:!0}});case"image/SEARCH_SUCCESS":return qe()(e,{$merge:{items:r,isLoading:!1,hasData:!0}});case"image/SEARCH_FAILURE":return qe()(e,{isLoading:{$set:!1},isError:{$set:!0}});case"image/MARK_AS_FAVORITE":return qe()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return qe()(e,Object(Pe.a)({},n,{isFavorite:{$set:!0}}))}});case"image/REMOVE_FAVORITE":return qe()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return qe()(e,Object(Pe.a)({},n,{isFavorite:{$set:!1}}))}});case"image/REMOVE":return qe()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return qe()(e,{$splice:[[n,1]]})}});case"image/UPDATE":return qe()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return qe()(e,Object(Pe.a)({},n,{$merge:r.data}))}});default:return e}},spinner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDisplayed:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"spinner/SHOW":return qe()(e,{isDisplayed:{$set:!0}});case"spinner/HIDE":return qe()(e,{isDisplayed:{$set:!1}});default:return e}}}),Ye=Object(Ve.a)(ze,We),Ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||He.d,Ne=Object(He.e)(Ye,Ge(Object(He.a)(Le.a))),Je=Object(Ve.b)(Ne);c.a.render(a.a.createElement(function(e){return a.a.createElement(o.a,{store:Ne},a.a.createElement(p.a,{loading:a.a.createElement("span",null,"Loading..."),persistor:Je},a.a.createElement(s.a,{theme:{breakpoints:{sm:"576px",md:"768px",lg:"992px",xl:"1200px"}}},a.a.createElement(a.a.Fragment,null,a.a.createElement(m.Helmet,{defaultTitle:"NASA Images"}),a.a.createElement(Me,null),a.a.createElement(u.a,null,a.a.createElement(l.a,{render:function(e){return a.a.createElement(A,e,a.a.createElement(d.a,null,a.a.createElement(l.a,{exact:!0,path:"/",component:te}),a.a.createElement(l.a,{exact:!0,path:"/edit/:imageId",component:ke})))}})),a.a.createElement(Te,null)))))},null),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.cc41a856.chunk.js.map