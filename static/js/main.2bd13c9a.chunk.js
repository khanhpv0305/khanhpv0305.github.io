(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,n,t){e.exports=t(506)},506:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(78),o=t.n(i),c=t(17),u=t(515),l=t(514),d=t(516),s=t(4),m=t(209),p=t(210),f=t(509),b=t(510),g=t(511),v=t(42),h=t.n(v),E=t(89),O=t(211),x=t.n(O),j=t(79),y=t.n(j),w=function(e){return x.a.get("".concat("https://images-api.nasa.gov","/search?").concat(y.a.stringify(e)))},I=function(e){return new Promise(function(n){setTimeout(function(){n()},e)})},C={search:function(e){return function(){var n=Object(E.a)(h.a.mark(function n(t){var r,a,i,o;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.keyword,t({type:"image/SEARCH_REQUEST"}),t({type:"spinner/SHOW"}),n.prev=3,n.next=6,w({q:r});case 6:a=n.sent,i=a.data.collection.items,o=i.map(function(e){return{id:e.data[0].nasa_id,thumbnailUrl:e.links[0].href,photographer:e.data[0].photographer,dateCreated:e.data[0].date_created,title:e.data[0].title,descr:e.data[0].description,isFavorite:!1}}),t({type:"image/SEARCH_SUCCESS",payload:o}),t({type:"spinner/HIDE"}),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(3),t({type:"image/SEARCH_FAILURE"}),t({type:"spinner/HIDE"});case 17:case"end":return n.stop()}},n,null,[[3,13]])}));return function(e){return n.apply(this,arguments)}}()}},k=Object(c.b)(function(e){return{isLoading:e.image.isLoading,hasData:e.image.hasData}},C)(function(e){var n=e.children,t=e.hasData,i=e.search,o=e.isLoading;return Object(r.useEffect)(function(){t||i({keyword:'""'})},[]),o?null:a.a.createElement(f.a,{fluid:!0},a.a.createElement(b.a,null,a.a.createElement(g.a,{xs:12},n)))}),S=t(214),A=t(3),D=t(30);function T(){var e=Object(A.a)(["\n      > svg {\n        color: #b0acac;\n      }\n    "]);return T=function(){return e},e}function R(){var e=Object(A.a)(["\n      color: red;\n    "]);return R=function(){return e},e}function F(){var e=Object(A.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  width: 50px;\n  border: 1px solid #cecccc;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.25s;\n  background: white;\n\n  &:not(:last-child) {\n    margin-right: 12px;\n  }\n\n  > svg {\n    color: #cecccc;\n    font-size: 1.25em;\n\n    ","\n  }\n\n  &:hover {\n    border-color: #b0acac;\n    \n    ","\n  }\n"]);return F=function(){return e},e}function L(){var e=Object(A.a)(["\n  display: flex;\n  justify-content: center;\n"]);return L=function(){return e},e}function _(){var e=Object(A.a)(["\n  display: -webkit-box;\n  line-height: 1.5rem;\n  height: 4.5rem;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 1.5rem;\n"]);return _=function(){return e},e}function M(){var e=Object(A.a)(["\n  font-weight: 500;\n  font-size: 1.25rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 1rem;\n"]);return M=function(){return e},e}function P(){var e=Object(A.a)([""]);return P=function(){return e},e}function H(){var e=Object(A.a)([""]);return H=function(){return e},e}function V(){var e=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]);return V=function(){return e},e}function U(){var e=Object(A.a)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 100%;\n"]);return U=function(){return e},e}function B(){var e=Object(A.a)(["\n  position: relative;\n  padding-top: 60%;\n  overflow: hidden;\n  margin: 0 -15px 1rem;\n"]);return B=function(){return e},e}function $(){var e=Object(A.a)(["\n  margin-bottom: 30px;\n  background: rgba(0, 0, 0, 0.05);\n  padding: 0 15px 15px;\n"]);return $=function(){return e},e}var z=s.d.div($());z.ThumbnailWrapper=s.d.div(B()),z.Thumbnail=s.d.img(U()),z.PhotographerAndDateCreated=s.d.div(V()),z.Photographer=s.d.span(H()),z.DateCreated=s.d.span(P()),z.Title=s.d.div(M()),z.Descr=s.d.div(_()),z.ActionBtnsWrapper=s.d.div(L()),z.ActionBtn=s.d.div(F(),Object(D.a)("isFavorite")(R()),Object(D.b)("isFavorite")(T()));var q=z,W=t(512),Z=t(62),Y={markAsFavorite:function(e){return{type:"image/MARK_AS_FAVORITE",payload:{imageId:e}}},removeFavorite:function(e){return{type:"image/REMOVE_FAVORITE",payload:{imageId:e}}},remove:function(e){return{type:"image/REMOVE",payload:{imageId:e}}}},G=Object(c.b)(null,Y)(function(e){var n=e.id,t=e.isFavorite,i=e.markAsFavorite,o=e.removeFavorite,c=e.remove,u="/edit/".concat(n),l=Object(r.useCallback)(function(){return i(n)},[]),d=Object(r.useCallback)(function(){return o(n)},[]),s=Object(r.useCallback)(function(){return c(n)},[]);return a.a.createElement(q.ActionBtnsWrapper,null,t?a.a.createElement(q.ActionBtn,Object.assign({onClick:d},{isFavorite:t}),a.a.createElement(Z.a,null)):a.a.createElement(q.ActionBtn,{onClick:l},a.a.createElement(Z.c,null)),a.a.createElement(q.ActionBtn,{onClick:s},a.a.createElement(Z.d,null)),a.a.createElement(q.ActionBtn,{as:W.a,to:u,state:{modal:!0}},a.a.createElement(Z.b,null)))}),N=function(e){var n=e.id,t=e.thumbnailUrl,r=e.photographer,i=e.dateCreated,o=e.title,c=e.descr,u=e.isFavorite,l=Object(S.format)(new Date(i),"MM/DD/YYYY");return a.a.createElement(q,null,a.a.createElement(q.ThumbnailWrapper,null,a.a.createElement(q.Thumbnail,{src:t})),a.a.createElement(q.PhotographerAndDateCreated,null,a.a.createElement(q.Photographer,null,r),a.a.createElement(q.DateCreated,null,l)),a.a.createElement(q.Title,null,o),a.a.createElement(q.Descr,null,c),a.a.createElement(G,{id:n,isFavorite:u}))};function J(){var e=Object(A.a)(["\n  padding-top: 50px;\n  padding-bottom: 50px;\n"]);return J=function(){return e},e}var K=s.d.div(J());function Q(){var e=Object(A.a)(["\n  margin-bottom: -30px;\n"]);return Q=function(){return e},e}var X=s.d.div(Q()),ee=t(517);function ne(){var e=Object(A.a)(["\n  padding: 40px 35px;\n  margin-left: -15px;\n  margin-right: -15px;\n  background: #333333;\n  color: white;\n  min-height: calc(100vh - 50px);\n"]);return ne=function(){return e},e}var te=s.d.div(ne());function re(){var e=Object(A.a)(["\n  &:not(:last-child) {\n    padding-bottom: 25px;\n    margin-bottom: 20px;\n    border-bottom: 1px solid white;\n  }\n"]);return re=function(){return e},e}var ae=s.d.div(re());function ie(){var e=Object(A.a)(["\n  font-weight: 500;\n  font-size: 1.15rem;\n"]);return ie=function(){return e},e}var oe=s.d.div(ie());function ce(){var e=Object(A.a)(["\n    "," {\n      border-color: #a38fc4;\n\n      &:before {\n        background: #a38fc4;\n      }\n    }\n\n    span {\n      color: #a38fc4;\n    }\n  "]);return ce=function(){return e},e}function ue(){var e=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  padding-left: 8px;\n\n  ","\n\n  &:not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(A.a)(["\n  width: 20px;\n  height: 20px;\n  border: 1px solid white;\n  border-radius: 50%;\n  position: relative;\n  margin-right: 7px;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    width: 8px;\n    height: 8px;\n    background: white;\n    border-radius: 50%;\n  }\n"]);return le=function(){return e},e}function de(){var e=Object(A.a)(["\n  margin-top: 17px;\n"]);return de=function(){return e},e}var se=s.d.div(de());se.Icon=s.d.div(le()),se.Item=s.d.div(ue(),Object(D.a)("active")(ce(),se.Icon));var me=se,pe=function(e){var n=e.options,t=e.selectedValue,r=e.onChange;return a.a.createElement(me,null,n.map(function(e){return a.a.createElement(me.Item,{key:e.value,onClick:t===e.value?void 0:function(){return r(e.value)},active:t===e.value},a.a.createElement(me.Icon,{active:t===e.value}),a.a.createElement("span",null,e.label))}))},fe=Object(ee.a)(function(e){var n=e.sortType,t=e.history;return a.a.createElement(te,null,a.a.createElement(ae,null,a.a.createElement(oe,null,"Sort type"),a.a.createElement(pe,{options:[{label:"Newest",value:"newest"},{label:"Oldest",value:"oldest"},{label:"Title A - Z",value:"titleAZ"},{label:"Title Z - A",value:"titleZA"}],selectedValue:n,onChange:function(e){t.push({pathname:"/",search:"?sortType=".concat(e)})}})))}),be=(t(370),function(e){return e.image.filteredItems}),ge={filter:function(e){var n=e.sortType,t=void 0===n?"newest":n,r=e.page,a=void 0===r?1:r,i=e.itemPerPage,o=void 0===i?18:i;return function(){var e=Object(E.a)(h.a.mark(function e(n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"spinner/SHOW"}),n({type:"image/FILTER",payload:{sortType:t,page:a,itemPerPage:o}}),e.next=4,I(200);case 4:return n({type:"spinner/HIDE"}),e.abrupt("return");case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()}},ve=Object(c.b)(function(e){return{hasData:e.image.hasData,images:be(e)}},ge)(function(e){e.hasData;var n=e.images,t=e.location,i=e.filter,o=y.a.parse(t.search);return Object(r.useEffect)(function(){i(o)},[t]),a.a.createElement(K,null,a.a.createElement(b.a,null,a.a.createElement(g.a,{xs:3},a.a.createElement(fe,{sortType:o.sortType||"newest"})),a.a.createElement(g.a,{xs:9},a.a.createElement(X,null,a.a.createElement(b.a,null,n.map(function(e){return a.a.createElement(g.a,{key:e.id,md:4},a.a.createElement(N,e))}))))))}),he=t(218);function Ee(){var e=Object(A.a)(["\n  padding-top: 50px;\n  padding-bottom: 50px;\n"]);return Ee=function(){return e},e}var Oe=s.d.div(Ee()),xe=t(225),je=t(32);function ye(){var e=Object(A.a)(["\n  height: 55px;\n  padding-left: 24px;\n  padding-right: 24px;\n  color: white;\n  border: none;\n  background: #784CC0;\n\n  &:disabled {\n    background: #a38fc4;\n  }\n"]);return ye=function(){return e},e}function we(){var e=Object(A.a)(["\n    border-color: red;\n  "]);return we=function(){return e},e}function Ie(){var e=Object(A.a)(["\n  display: block;\n  width: 100%;\n  border: 1px solid #cecccc;\n  padding: 12px;\n  min-height: calc(15em + 26px);\n\n  &:focus {\n    border-color: #b0acac;\n    outline: none;\n  }\n\n  ","\n"]);return Ie=function(){return e},e}function Ce(){var e=Object(A.a)(["\n    border-color: red;\n  "]);return Ce=function(){return e},e}function ke(){var e=Object(A.a)(["\n  display: block;\n  width: 100%;\n  border: 1px solid #cecccc;\n  padding-left: 12px;\n  padding-right: 12px;\n  height: 55px;\n\n  &:focus {\n    border-color: #b0acac;\n    outline: none;\n  }\n\n  ","\n"]);return ke=function(){return e},e}function Se(){var e=Object(A.a)(["\n  color: red;\n  font-size: 0.875rem;\n  margin-top: 0.5em;\n"]);return Se=function(){return e},e}function Ae(){var e=Object(A.a)(["\n  font-size: 1.15rem;\n  margin-bottom: 1em;\n  background: #d4edda;\n  border-left: 4px solid #155724;\n  color: #155724;\n  padding: 15px;\n"]);return Ae=function(){return e},e}function De(){var e=Object(A.a)(["\n  color: red;\n  margin-left: 5px;\n"]);return De=function(){return e},e}function Te(){var e=Object(A.a)(["\n  font-size: 0.875rem;\n"]);return Te=function(){return e},e}function Re(){var e=Object(A.a)(["\n  margin-bottom: 0.75rem;\n"]);return Re=function(){return e},e}function Fe(){var e=Object(A.a)(["\n  font-size: 1.25rem;\n  font-weight: 500;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(A.a)([""]);return Le=function(){return e},e}var _e=s.d.form(Le());_e.Heading=s.d.div(Fe()),_e.Group=s.d.div(Re()),_e.Label=s.d.label(Te()),_e.RequiredMark=s.d.span(De()),_e.SuccessMessage=s.d.div(Ae()),_e.InvalidMsg=s.d.div(Se()),_e.TextInput=s.d.input.attrs({type:"text"})(ke(),Object(D.a)("invalid")(Ce())),_e.Textarea=s.d.textarea(Ie(),Object(D.a)("invalid")(we())),_e.SubmitBtn=s.d.button.attrs({type:"submit"})(ye());var Me=_e,Pe=t(61),He=Pe.object().shape({title:Pe.string().required("Required"),descr:Pe.string().required("Required"),photographer:Pe.string()}),Ve=Object(r.memo)(function(e){var n=e.data,t=e.onSubmit;return a.a.createElement(je.d,{validationSchema:He,initialValues:n,isInitialValid:He.isValidSync(n),onSubmit:function(e,r){t(n.id,e).then(function(){r.setStatus({message:"Update successfully"}),r.setSubmitting(!1)}).then(function(){return I(2e3)}).then(function(){return r.setStatus({message:void 0})})}},function(e){var n=e.errors,t=e.isValid,r=e.isSubmitting,i=e.status;Object(xe.a)(e,["errors","isValid","isSubmitting","status"]);return a.a.createElement(Me,{as:je.c},i&&i.message&&a.a.createElement(Me.SuccessMessage,null,i.message),a.a.createElement(je.b,{name:"title",render:function(e){var t=e.field;return a.a.createElement(Me.Group,null,a.a.createElement(Me.Label,{htmlFor:"title-id"},"Title",a.a.createElement(Me.RequiredMark,null,"*")),a.a.createElement(Me.TextInput,Object.assign({id:"title-id",invalid:!!n.title},t)),a.a.createElement(je.a,{name:"title",component:Me.InvalidMsg}))}}),a.a.createElement(je.b,{name:"descr",placeholder:"Description *",invalid:!!n.descr,render:function(e){var t=e.field;return a.a.createElement(Me.Group,null,a.a.createElement(Me.Label,{htmlFor:"descr-id"},"Description",a.a.createElement(Me.RequiredMark,null,"*")),a.a.createElement(Me.Textarea,Object.assign({id:"descr-id",invalid:!!n.descr},t)),a.a.createElement(je.a,{name:"descr",component:Me.InvalidMsg}))}}),a.a.createElement(je.b,{name:"photographer",placeholder:"Photographer",invalid:!!n.photographer,render:function(e){var n=e.field;return a.a.createElement(Me.Group,null,a.a.createElement(Me.Label,{htmlFor:"photographer-id"},"Description"),a.a.createElement(Me.TextInput,Object.assign({id:"photographer-id"},n)))}}),a.a.createElement(Me.SubmitBtn,{disabled:!t||r},"SAVE"))})}),Ue=Object(r.memo)(function(e){e.imageId;var n=e.image,t=e.updateImage;return a.a.createElement(b.a,null,a.a.createElement(g.a,{xs:{size:8,offset:2}},a.a.createElement(Oe,null,a.a.createElement(Ve,{data:n,onSubmit:t}))))}),Be={updateImage:function(e,n){return function(){var t=Object(E.a)(h.a.mark(function t(r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"spinner/SHOW"}),r({type:"image/UPDATE",payload:{imageId:e,data:n}}),t.next=4,I(200);case 4:return r({type:"spinner/HIDE"}),t.abrupt("return");case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},$e=Object(c.b)(function(e,n){var t=n.match.params.imageId,r=e.image.items.find(function(e){return e.id===t});return{imageId:t,image:r}},Be,function(e,n){return Object(he.a)({},e,n)})(Ue);function ze(){var e=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 9999;\n  background: ",";\n"]);return ze=function(){return e},e}var qe=s.d.div(ze(),function(e){return e._bgColor});qe.defaultProps={_bgColor:"rgba(0, 0, 0, 0.3)"};var We=qe,Ze=t(513),Ye=function(e){var n=e._bgColor;return a.a.createElement(We,{_bgColor:n},a.a.createElement(Ze.a,{color:"dark"}))},Ge=Object(r.memo)(function(e){return e.isSpinnerDisplayed&&a.a.createElement(Ye,null)}),Ne=Object(c.b)(function(e){return{isSpinnerDisplayed:e.spinner.isDisplayed}})(Ge);t(502),t(503);function Je(){var e=Object(A.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700');\n\n  body {\n    font-family: 'Montserrat', sans-serif !important;\n    /* color: #000; */\n  }\n"]);return Je=function(){return e},e}var Ke=Object(s.b)(Je()),Qe=t(18),Xe=t(222),en=t(87),nn=t(223),tn=t.n(nn),rn=t(49),an=t(10),on=t.n(an),cn=t(125),un={key:"nasa-images",storage:tn.a,whitelist:["image"]},ln=Object(Qe.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],filteredItems:[],isLoading:!1,isError:!1,hasData:!1},n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"image/SEARCH_REQUEST":return on()(e,{isLoading:{$set:!0}});case"image/SEARCH_SUCCESS":return on()(e,{$merge:{items:r,isLoading:!1,hasData:!0}});case"image/SEARCH_FAILURE":return on()(e,{isLoading:{$set:!1},isError:{$set:!0}});case"image/MARK_AS_FAVORITE":return on()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return on()(e,Object(rn.a)({},n,{isFavorite:{$set:!0}}))}});case"image/REMOVE_FAVORITE":return on()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return on()(e,Object(rn.a)({},n,{isFavorite:{$set:!1}}))}});case"image/REMOVE":return on()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return on()(e,{$splice:[[n,1]]})}});case"image/UPDATE":return on()(e,{items:function(e){var n=e.findIndex(function(e){return e.id===r.imageId});return on()(e,Object(rn.a)({},n,{$merge:r.data}))}});case"image/FILTER":return on()(e,{filteredItems:function(){var n=Object(cn.a)(e.items);switch(r.sortType){case"oldest":n.sort(function(e,n){return e.dateCreated>n.dateCreated?1:e.dateCreated<n.dateCreated?-1:0});break;case"titleAZ":n.sort(function(e,n){return e.title.toLowerCase()>n.title.toLowerCase()?1:e.title.toLowerCase()<n.title.toLowerCase()?-1:0});break;case"titleZA":n.sort(function(e,n){return e.title.toLowerCase()<n.title.toLowerCase()?1:e.title.toLowerCase()>n.title.toLowerCase()?-1:0});break;default:n.sort(function(e,n){return e.dateCreated<n.dateCreated?1:e.dateCreated>n.dateCreated?-1:0})}return n.slice((r.page-1)*r.itemPerPage,r.itemPerPage)}});default:return e}},spinner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDisplayed:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"spinner/SHOW":return on()(e,{isDisplayed:{$set:!0}});case"spinner/HIDE":return on()(e,{isDisplayed:{$set:!1}});default:return e}}}),dn=Object(en.a)(un,ln),sn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe.d,mn=Object(Qe.e)(dn,sn(Object(Qe.a)(Xe.a))),pn=Object(en.b)(mn);o.a.render(a.a.createElement(function(e){return a.a.createElement(c.a,{store:mn},a.a.createElement(p.a,{loading:a.a.createElement("span",null,"Loading..."),persistor:pn},a.a.createElement(s.a,{theme:{breakpoints:{sm:"576px",md:"768px",lg:"992px",xl:"1200px"}}},a.a.createElement(a.a.Fragment,null,a.a.createElement(m.Helmet,{defaultTitle:"NASA Images"}),a.a.createElement(Ke,null),a.a.createElement(u.a,null,a.a.createElement(l.a,{render:function(e){return a.a.createElement(k,e,a.a.createElement(d.a,null,a.a.createElement(l.a,{exact:!0,path:"/",component:ve}),a.a.createElement(l.a,{exact:!0,path:"/edit/:imageId",component:$e})))}})),a.a.createElement(Ne,null)))))},null),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.2bd13c9a.chunk.js.map